# Verify: Behavioral Specs + Design Phase (P1)

**Verified**: 2026-02-09
**Proposal**: docs/proposals/BEHAVIORAL_SPECS_AND_DESIGN_PHASE.md
**Changes verified**: 13/13 (Changes 1, 1b, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)

## Change-by-Change Verification

| # | Change | Target File | Status | Notes |
|---|--------|-------------|--------|-------|
| 1 | Behavioral walkthrough pointers in mockups mode (Pencil + Markdown Fallback) + P0.5 stub consolidation | `skills/cl-designer/references/mockups-mode.md` | PASS | Three pointers present: Pencil path "Step 3: Behavioral Walkthrough (Per Screen)" at line 161, Markdown Fallback "Step 3: Behavioral Walkthrough (Per Screen)" at line 204, and consolidated "Behavioral Walkthrough" stub at line 212. All reference `references/behavioral-walkthrough.md`. The old P0.5 "Behavioral Walkthrough: Batch Mode" stub has been replaced with the consolidated pointer. No duplication of the old stub content. |
| 1b | New behavioral walkthrough reference file | `skills/cl-designer/references/behavioral-walkthrough.md` | PASS | File exists with all 5 sections (Screen States, Interaction Flows, Navigation Context, Content Decisions, Record and Continue). Review Style Integration section present with batch/serial/hybrid modes. Screen states table matches proposal exactly (9 states: Default, Empty first-use, Empty filtered, Loading, Error fetch, Error action, Partial, Offline, Permission denied). Pencil/non-Pencil guidance included. Efficiency tip for pattern reuse present at end. Content is 122 lines, within token budget. |
| 2 | Component behavioral states, accessibility, and boundary behavior in tokens mode | `skills/cl-designer/references/tokens-mode.md` | PASS | **Pencil Path Step 3 (item 4)**: Updated to include "Generate behavioral state variants" with Button, Input, Form group, List/Table, Modal, Toast/Alert examples (lines 214-226). The `reusable: true` explanation is expanded as proposed. **Step 4 Batch Review table**: Extended with "Behavioral States" and "A11y" columns (lines 250-253). Behavioral/accessibility/boundary behavior presentation guidance added to both batch revision (lines 272-280) and serial review (lines 308-315) paths. **New item 6** (Capture behavioral specification) added after item 5 (lines 285-293). **Markdown Fallback Step 3**: "States" renamed to "Visual states", new "Behavioral states" with state machine table added, "Accessibility" section with ARIA/keyboard/focus, "Boundary behavior" section with truncation/overflow/constraints (lines 342-372). Old content fully replaced, no duplication. |
| 3 | Behavioral and accessibility items added to tokens checklist | `skills/cl-designer/references/design-checklist.md` | PASS | Tokens checklist expanded from 8 items to 14 items (lines 38-53). Items 7-12 are the new behavioral/accessibility additions: component behavioral states (7), interactive state triggers (8), contrast ratios (9), keyboard interactions (10), focus indicators (11), boundary behavior (12). Item 13 is the updated DESIGN_SYSTEM.md check (now includes "behavioral states"). Item 14 is user approval (updated text). Gate semantics paragraph updated with tier assignments for new items (lines 55-65). P0.5 placeholder replaced — final line confirms "This replaces the P0.5 placeholder". |
| 4 | Behavioral items added to mockups checklist | `skills/cl-designer/references/design-checklist.md` | PASS | Mockups checklist expanded from 6 items to 11 items (lines 72-83). Items 5-9 are the new behavioral additions: behavioral walkthroughs (5), empty/loading/error states (6), interaction flows (7), navigation context (8), non-default state content (9). Item 10 is the updated UI_SCREENS.md check (now includes "behavioral contracts, and test scenarios"). Item 11 is user approval (updated text). Gate semantics paragraph updated (lines 85-93). P0.5 placeholder replaced. |
| 5 | Behavioral probing questions added to bootstrap discovery conversation | `skills/cl-researcher/references/bootstrap-guide.md` | PASS | New "Behavioral and UX questions" block added after the "Then dig deeper" section (lines 64-93). All 9 proposed questions present: error handling, optimistic updates/loading, empty states, WCAG accessibility level, keyboard/mouse/touch, app voice/tone, offline handling, testing philosophy, target devices. Each has category tags (`errors`, `resilience`, `content`, `accessibility`, `testing`, `responsive`). Skip guidance present ("Not every project needs all of these..."). Always-ask guidance ("always ask about error handling and accessibility"). Integration note about feed-through to Step 2b/2c defaults sheet present with `[from discovery]` source attribution. |
| 6 | Extended UI_SCREENS.md format with behavioral contracts | `skills/cl-designer/references/mockups-mode.md` | PASS | The "Screen Details" template in "All Paths: Generate UI_SCREENS.md" (lines 266-310) now includes: Route/Auth/Back on single line, Focus on arrival, State persistence, Screen States table (with State, Trigger, Visual, Content, Components Used columns), Interaction Flows table (with Accessibility column), Test Scenarios section, and "States that don't apply to this screen are omitted (not marked N/A)" guidance. Format matches proposal exactly. |
| 7 | Autopilot browser validation tooling section in SKILL.md Guidelines | `skills/cl-designer/SKILL.md` | PASS | New "Browser Validation Tools (Optional)" subsection added at end of Guidelines (lines 313-335). Three-tool detection list (agent-browser, Playwright MCP, /chrome) present. Detection instructions (run once during setup, record in DESIGN_PROGRESS.md) present. "When useful" section with accessibility pre-check and behavioral smoke test. "When NOT to use" guidance present. Record-to-DESIGN_PROGRESS.md instruction present. Placed after "Design review is separate" guideline as specified. |
| 8 | Build plan phases restructured with behavioral acceptance criteria | `skills/cl-designer/references/build-plan-mode.md` | PASS | All five phases restructured. **Phase 1**: "Token/Theme Setup + Accessibility Infrastructure" — focus indicator tokens and contrast ratio verification added (lines 41-48). **Phase 2**: "Atomic Components (with behavioral states)" — acceptance criteria include behavioral states, accessibility, boundary behavior from DESIGN_SYSTEM.md (lines 50-60). **Phase 3**: "Composite Components (with interaction behavior)" — composite behavioral contracts (Modal focus trap, Form group states, Nav active route), accessibility criteria (lines 62-70). **Phase 4**: "Screen Layouts / Pages + Navigation" — behavioral contracts from UI_SCREENS.md, navigation/routing cross-cutting task, test scenarios as acceptance criteria (lines 72-84). **Phase 5**: "Integration Behavior + Responsive" — cross-screen flows, responsive, animations (lines 86-94). "Per task, include" section updated with expanded acceptance criteria description (lines 104-108). All match proposal. |
| 9 | SKILL.md mockups mode summary updated to mention behavioral walkthrough | `skills/cl-designer/SKILL.md` | PASS | Mockups Mode summary (lines 167-176) now describes the behavioral walkthrough: "then runs a **behavioral walkthrough** per screen — capturing screen states (empty, loading, error), interaction flows (what happens on click, on failure), navigation context (route, auth, back behavior, focus), and content decisions (actual copy for non-default states)." Both Pencil and markdown paths mentioned. "UI_SCREENS.md with behavioral contracts" phrasing present. Review style paragraph unchanged. Matches proposal exactly. |
| 10 | SKILL.md build plan mode summary updated to reflect restructured phases | `skills/cl-designer/SKILL.md` | PASS | Build Plan Mode summary (lines 185-190) now describes: "Five phases: token setup + accessibility infrastructure, atomic components with behavioral states, composite components with interaction behavior, screen layouts + navigation with behavioral contracts, and integration behavior + responsive. Behavioral acceptance criteria from DESIGN_SYSTEM.md and UI_SCREENS.md appear in Phase 2-4 tasks — not deferred to Phase 5." Matches proposal exactly. |
| 11 | SKILL.md tokens mode summary updated to mention behavioral states | `skills/cl-designer/SKILL.md` | PASS | Tokens Mode summary (lines 149-154) now includes: "with **behavioral states** (idle, loading, error, disabled), **accessibility attributes** (ARIA, keyboard interactions, focus behavior), and **boundary behavior** (truncation, overflow, min/max constraints)." Bold formatting matches proposal. Both paths and DESIGN_SYSTEM.md output mentioned. Review style paragraph unchanged. |
| 12 | DESIGN_SYSTEM.md component behavioral states format in tokens mode | `skills/cl-designer/references/tokens-mode.md` | PASS | Component Catalog format in "All Paths: Generate DESIGN_SYSTEM.md" (lines 425-452) now includes: "Variants" clarified as "visual variants list", Behavioral States table (State, Trigger, Visual Change, Behavior columns) with idle/loading/error/disabled rows, "Omit states that don't apply" guidance, Accessibility section (ARIA, Keyboard, Focus), Boundary Behavior section (Truncation, Overflow, Constraints). Format matches proposal exactly. Old format fully replaced. |

## Cross-File Consistency

| Check | Status | Notes |
|-------|--------|-------|
| SKILL.md Tokens Mode summary matches tokens-mode.md content | PASS | Summary mentions "behavioral states (idle, loading, error, disabled), accessibility attributes (ARIA, keyboard interactions, focus behavior), and boundary behavior (truncation, overflow, min/max constraints)" — all present in tokens-mode.md Step 3 (behavioral state variants), Step 4 (behavioral/accessibility/boundary in review), and Markdown Fallback Step 3 (behavioral states table, accessibility, boundary behavior). |
| SKILL.md Mockups Mode summary matches mockups-mode.md content | PASS | Summary mentions "behavioral walkthrough per screen — capturing screen states (empty, loading, error), interaction flows, navigation context, and content decisions" — all present in mockups-mode.md via the Step 3 pointers to behavioral-walkthrough.md, which defines all four walkthrough sections. |
| SKILL.md Build Plan Mode summary matches build-plan-mode.md content | PASS | Summary describes five phases matching build-plan-mode.md: "token setup + accessibility infrastructure" (Phase 1), "atomic components with behavioral states" (Phase 2), "composite components with interaction behavior" (Phase 3), "screen layouts + navigation with behavioral contracts" (Phase 4), "integration behavior + responsive" (Phase 5). "Behavioral acceptance criteria from DESIGN_SYSTEM.md and UI_SCREENS.md appear in Phase 2-4 tasks — not deferred to Phase 5" confirmed in build-plan-mode.md Phase 2-4 descriptions. |
| Tokens checklist items reference correct artifacts | PASS | Item 7 ("component behavioral states documented") references "state table (idle, loading, error, disabled) with triggers" — matches tokens-mode.md behavioral states. Item 13 references "DESIGN_SYSTEM.md" with "behavioral states" — matches the extended DESIGN_SYSTEM.md format (Change 12). |
| Mockups checklist items reference correct artifacts | PASS | Item 5 references "DESIGN_PROGRESS.md walkthrough entries" — matches behavioral-walkthrough.md Section 5 "Record and Continue" which writes to DESIGN_PROGRESS.md. Items 6-8 reference "UI_SCREENS.md Screen States table", "Interaction Flows table", and per-screen navigation context — all present in the extended UI_SCREENS.md format (Change 6). Item 9 references actual text content — consistent with behavioral-walkthrough.md Section 4 "Content Decisions". |
| Bootstrap questions use correct DECISIONS.md category tags | PASS | Categories used: `errors`, `resilience`, `content`, `accessibility`, `testing`, `responsive`. These match the established category tags referenced in SKILL.md's "Decision flow: read before asking" guideline which lists `design-direction`, `accessibility`, `errors`, `content`, `responsive`. The `resilience` and `testing` tags are new but consistent with the defaults sheet categories in bootstrap-guide.md Step 2c. |
| Build plan phases reference DESIGN_SYSTEM.md correctly | PASS | Phase 2 references "behavioral states from DESIGN_SYSTEM.md", Phase 2 acceptance criteria reference "DESIGN_SYSTEM.md" for boundary behavior. These reference the extended DESIGN_SYSTEM.md component catalog format (Change 12) which now includes Behavioral States, Accessibility, and Boundary Behavior sections. |
| Build plan phases reference UI_SCREENS.md correctly | PASS | Phase 4 references "behavioral contracts from UI_SCREENS.md" for screen states, interaction flows, and content. Phase 4 also references "navigation context per screen" and "Test scenarios from UI_SCREENS.md". All match the extended UI_SCREENS.md format (Change 6) which includes Screen States table, Interaction Flows table, Navigation metadata, and Test Scenarios section. |
| behavioral-walkthrough.md output feeds into UI_SCREENS.md format | PASS | behavioral-walkthrough.md Section 5 states "These decisions flow into UI_SCREENS.md when generating the output artifact (see mockups-mode.md 'All Paths: Generate UI_SCREENS.md')." The walkthrough captures screen states, interaction flows, navigation context, and content decisions — all of which have corresponding sections in the extended UI_SCREENS.md template (Change 6). |
| Terminology consistency: "behavioral walkthrough" | PASS | Used consistently across all files: SKILL.md Mockups Mode summary, mockups-mode.md Step 3 headers (both paths), behavioral-walkthrough.md title, design-checklist.md item 5 ("Behavioral walkthroughs completed"), build-plan-mode.md Phase 5 ("behavioral walkthrough or design tokens"). |
| Terminology consistency: "screen states" vs "behavioral states" | PASS | "Screen states" used for per-screen modes (empty, loading, error, etc.) in behavioral-walkthrough.md, mockups-mode.md UI_SCREENS.md format, and design-checklist.md items 5-6. "Behavioral states" used for per-component state machines (idle, loading, error, disabled) in tokens-mode.md, DESIGN_SYSTEM.md format, design-checklist.md items 7-8, and SKILL.md Tokens Mode summary. Terms are distinct and consistently applied. |
| Terminology consistency: "interaction flows" | PASS | Used consistently as the per-screen table of user actions, expected behavior, and error cases. Present in behavioral-walkthrough.md Section 2, UI_SCREENS.md format (mockups-mode.md), design-checklist.md item 7, and build-plan-mode.md Phase 4. |
| No content duplication across files | PASS | The behavioral walkthrough process exists only in behavioral-walkthrough.md. mockups-mode.md contains only brief pointers (3 total, each 2-4 lines). The DESIGN_SYSTEM.md component format exists only in tokens-mode.md. The UI_SCREENS.md format exists only in mockups-mode.md. No duplicated process descriptions or format definitions. |
| Context budget: mockups-mode.md within ~3000 token limit | PASS | File is 351 lines. The behavioral walkthrough was extracted to a separate file (behavioral-walkthrough.md, 122 lines) rather than inlined. mockups-mode.md contains only pointer references. The UI_SCREENS.md template is longer but is a format specification, not process instruction. |
| Context budget: tokens-mode.md within limit | PASS | File is 496 lines. Behavioral additions are integrated into existing sections (Step 3, Step 4, Markdown Step 3, DESIGN_SYSTEM.md format) rather than creating new large sections. The behavioral state variant guidance (~13 lines) and per-component behavioral spec capture (~8 lines) are small additions per section. |
| Context budget: SKILL.md within ~200 line limit | PASS | File is 336 lines including frontmatter. Mode summaries are concise (each ~7-10 lines). The Browser Validation Tools section is 23 lines. Well within the budget considering Guidelines is the largest section and is appropriately placed. |
| P0.5 stub properly consolidated | PASS | The old P0.5 "Behavioral Walkthrough: Batch Mode" stub in mockups-mode.md has been replaced with a consolidated pointer at line 212 that references behavioral-walkthrough.md. The new file's "Review Style Integration" section incorporates the batch generate-confirm table, serial walkthrough, and hybrid approach — all content from the stub. No orphaned P0.5 content remains. |
| P0.5 checklist placeholder properly replaced | PASS | Both tokens and mockups checklists end with "This replaces the P0.5 placeholder" confirmation text (tokens checklist line 64, mockups checklist line 93). The P0.5 placeholder text ("When P1's checklist items are added...") is absent from both checklists. |

## Verdict: PASS

All 13 changes (1, 1b, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12) have been applied correctly. No content duplication, no collateral damage, no orphaned old content. Cross-file references are consistent. Terminology is applied uniformly. Context budgets are respected. P0.5 stubs and placeholders have been properly consolidated/replaced.

## Issues Found

None.
