# Verification: SECURITY_ERRORS_AND_API_CONVENTIONS

**Verified**: 2026-02-12
**Proposal**: docs/proposals/SECURITY_ERRORS_AND_API_CONVENTIONS.md
**Verdict**: PASS (with 2 advisory notes)

## Change Verification

| # | Change | Target File | Status | Notes |
|---|--------|-------------|--------|-------|
| 1 | Add cross-cutting spec generation pointer (Step 4+) to spec mode | `skills/cl-implementer/references/spec-mode.md` | PASS | Step 4+ section present at lines 108-116, correctly placed after Step 4 (line 97) and before Step 4b (line 118, P2's test spec). Lists all five artifact categories (SECURITY_SPEC.md, error taxonomy, API conventions, shared types, edge cases/accessibility). Points to `references/cross-cutting-specs.md`. |
| 1b | NEW FILE cross-cutting-specs.md | `skills/cl-implementer/references/cross-cutting-specs.md` | PASS | File exists (188 lines). Contains Step 4a (Security Spec with 6 subsections: Per-Endpoint Security, System-Level Security, Secure UX Patterns, Dependency Governance, Per-Spec Accessibility Requirements, Standard Edge Cases Per Spec), Step 4b (Error Taxonomy with 4 subsections: Error Response Format, Error Code System, Error Propagation Chain, Per-Endpoint Error Catalog), Step 4c (API Conventions Preamble), Step 4d (Shared Types with 3 subsections: Shared Types Inventory, Type Sharing Strategy, Serialization Contracts). All content matches the proposal's detailed design. |
| 6 | Security & Cross-Cutting Specs table in Step 5 manifest template | `skills/cl-implementer/references/spec-mode.md` | PASS | Lines 249-256 contain the "Security & Cross-Cutting Specs" table with all four rows (SECURITY_SPEC.md, error taxonomy, API conventions preamble, shared types). Placed after the main Specs table and TEST_SPEC.md row, before the Cross-Spec Dependencies table. Matches proposal exactly. |
| 7 | Step 3.5 dependency verification in run mode | `skills/cl-implementer/references/run-mode.md` | PASS | Lines 119-149 contain Step 3.5 "Dependency verification" with all three sub-steps: a) Pre-install registry existence check, b) Post-install vulnerability audit, c) License check. Correctly placed after context loading (Step 3) and before implementation (Step 4, now line 151). Tier assignments match (Tier 1 for critical/high and flagged licenses, Tier 3 for medium/low and approved). |
| 8 | `supply-chain` fix task type in run mode Step 4 | `skills/cl-implementer/references/run-mode.md` | PASS | Lines 234-247 add the `supply-chain` classification after `design-gap`, with the distinguishing question ("Is this about how to USE a library correctly (context gap) or about WHETHER this library is safe to use (supply chain)?"). Resolution paths for hallucinated, vulnerable, and license issues are all present. Matches proposal. |
| 9 | Dimension 6: Dependency Audit in verify mode | `skills/cl-implementer/references/verify-mode.md` | PASS | Lines 107-133 contain "Dimension 6: Dependency Audit" with all specified content: catches list (5 items), steps (5 steps), report with tier assignments (Critical/High = Tier 1, Medium = Tier 2, Low = Tier 3, License = Tier 1, Unused = Tier 3), and graceful degradation note. Correctly placed after Dimension 5 (Test Coverage, P2) and before the Output section. |
| 10 | Dependency Audit output section in verify mode | `skills/cl-implementer/references/verify-mode.md` | PASS | Lines 171-175 contain the "Dependency Audit" subsection in the output template with the four example lines (npm audit, licenses, unused dependencies, lockfile). Placed after "Test Coverage" output section and before the closing code fence. |
| 11 | "Six Consistency Dimensions" heading + Dimension 6 (API Convention Adherence) + output section in spec-consistency-check.md | `skills/cl-implementer/references/spec-consistency-check.md` | PASS | Line 12 reads "Six Consistency Dimensions" (updated from Five). Lines 69-83 contain "6. API Convention Adherence" with all 7 check items and the graceful degradation note. Lines 148-157 contain the "API Convention Adherence" output section with the convention/expected/violations table format and the two conditional messages. All match proposal. |
| 12 | Security probing subsection in bootstrap-guide.md | `skills/cl-researcher/references/bootstrap-guide.md` | PASS | Lines 58-62 contain "Then dig deeper -- functional:" preserving the original four questions. Lines 127-134 contain "Dig deeper -- security and data (scale to project type):" with the three security-specific questions (data sensitivity, compliance, admin roles) and the note about defaults sheet integration. P1's behavioral questions (lines 64-93) are preserved between the functional and security sections. P0.5's testing probes (lines 95-125) are preserved. All existing content intact. |
| 13 | SKILL.md Spec Mode description includes cross-cutting specs list | `skills/cl-implementer/SKILL.md` | PASS | Lines 152-158 contain the cross-cutting specifications list with all six items (SECURITY_SPEC.md, Error taxonomy, API conventions preamble, Shared types, Edge cases, Accessibility). Matches proposal exactly. |
| 14 | SKILL.md Verify Mode says "six dimensions" with dependency audit | `skills/cl-implementer/SKILL.md` | PASS | Lines 217-220 describe verify mode with "six dimensions" and list all six including "dependency audit (vulnerability scan, license compliance, unused dependency detection)". Matches proposal. |
| 15 | Two new guidelines in SKILL.md (security spec reference + dependency verification) | `skills/cl-implementer/SKILL.md` | PASS | Lines 324-334 contain both new guidelines: "Security is a specification concern, not an afterthought" (with SECURITY_SPEC.md reference behavior and nudge for missing spec) and "Verify dependencies before trusting them" (with registry check, audit, license check, block/warn thresholds). Placed after the P0.5 decision flow guideline (lines 317-322). |
| 16 | Cross-Cutting Specifications subsection with artifact table in docs/cl-implementer.md | `docs/cl-implementer.md` | PASS | Lines 116-129 contain the "Cross-Cutting Specifications" subsection with the full artifact table (6 rows: SECURITY_SPEC.md, Error taxonomy, API conventions, Shared types, Edge cases, Accessibility) with Content and Source columns. Placed after "Design Artifact Integration" (lines 112-114) and before the `---` divider. Matches proposal. |
| 17 | docs/cl-implementer.md Verify section says "Six dimensions" with two new rows | `docs/cl-implementer.md` | PASS | Lines 330-340 contain the Verify section with "Six dimensions:" and the full table including "Test coverage" (P2) and "Dependency audit" (P3) rows. Matches proposal exactly. |
| 18 | docs/cl-researcher.md Greenfield subsection updated with security/compliance | `docs/cl-researcher.md` | PASS | Lines 29-38 contain the updated Greenfield section. Step 1 now includes "security strategy, data sensitivity, compliance requirements". Step 2 mentions "Project profile detection (auto-detect, quick research, or presets) captures error handling, API conventions, dependency policy, and other cross-cutting decisions". Steps 3-4 are renumbered. The paragraph about security-specific depth probing and profile system is present. Matches proposal. |
| 19 | SECURITY_SPEC.md listed in directory structure in docs/pipeline-concepts.md | `docs/pipeline-concepts.md` | PASS | Line 374 contains `SECURITY_SPEC.md` indented under `specs/` with the description "Per-endpoint auth, system security, dependency governance". Matches proposal. |

## Cross-File Consistency

| Check | Status | Notes |
|-------|--------|-------|
| verify-mode.md has all 6 dimensions (1-4 original + 5 P2 + 6 P3) | PASS | Dimensions 1-4 at lines 17-83, Dimension 5 (Test Coverage) at lines 85-105, Dimension 6 (Dependency Audit) at lines 107-133. All six present and correctly ordered. |
| SKILL.md Verify Mode says "six dimensions" and lists dependency audit | PASS | Line 217: "six dimensions". Line 219-220 lists all six including "dependency audit (vulnerability scan, license compliance, unused dependency detection)". |
| spec-consistency-check.md says "Six Consistency Dimensions" | PASS | Line 12: "### Six Consistency Dimensions". Updated from "Five". |
| bootstrap-guide.md preserves P1's behavioral questions AND P0.5's testing probes | PASS | P1's behavioral questions at lines 64-93 ("Behavioral and UX questions"), P0.5's testing probes at lines 95-125. P3's security probing at lines 127-134. All three coexist correctly. |
| verify-mode.md line 15 heading ("Four" vs "Six") | ADVISORY | Line 15 reads "### Four Verification Dimensions". This is a pre-existing issue from before P2 -- the heading was not updated when P2 added Dimension 5, and P3 did not update it either. The heading says "Four" but the file contains six dimensions. This is cosmetic (the heading is navigational, not functional) but should be corrected. See Advisory Notes. |
| SKILL.md Spec Review description says "five dimensions" | ADVISORY | Line 166 reads: "Checks five dimensions of cross-spec consistency: type consistency, naming consistency, contract consistency, completeness, and traceability." This does not mention the sixth dimension (API Convention Adherence) added by P3 to spec-consistency-check.md. The reference file has six dimensions but SKILL.md's Spec Review description still says five and does not list API Convention Adherence. See Advisory Notes. |
| docs/cl-implementer.md Spec Review section says "Five Consistency Dimensions" | ADVISORY | Lines 137-145 list five dimensions in the Spec Review section. The sixth dimension (API Convention Adherence) from Change 11 is not reflected in the public-facing doc's Spec Review summary. This is consistent with the SKILL.md oversight -- both the SKILL.md and the public doc are out of sync with the reference file. See Advisory Notes. |
| docs/cl-implementer.md Run section lists issue types including supply-chain | PASS | Line 255 lists issue types: "`runtime-error`, `regression`, `integration-failure`, `context-gap`, `design-gap`". The `supply-chain` type is NOT listed here, but this is acceptable -- the public-facing doc uses a simplified list and routes to the reference file for full details. The reference file (run-mode.md) has the complete classification. |
| Terminology consistency (SECURITY_SPEC.md, error taxonomy, API conventions preamble) | PASS | All three terms are used consistently across spec-mode.md, cross-cutting-specs.md, SKILL.md, cl-implementer.md, and pipeline-concepts.md. |

## Advisory Notes

1. **verify-mode.md heading says "Four" (line 15)**: The heading "### Four Verification Dimensions" was not updated by P2 (which added Dimension 5) or P3 (which added Dimension 6). The file now contains six dimensions. This is a pre-existing issue that predates P3. Recommend a trivial L0 fix to change the heading to "### Six Verification Dimensions".

2. **Spec Review dimension count inconsistency**: The spec-consistency-check.md reference file correctly says "Six Consistency Dimensions" (updated by Change 11). However, the SKILL.md Spec Review section (line 166) still says "five dimensions" and lists only the original five. The public-facing docs/cl-implementer.md Spec Review section (lines 137-145) also lists only five dimensions. The proposal's Change Manifest did not include changes to the SKILL.md Spec Review section or the docs/cl-implementer.md Spec Review section -- only the reference file itself (Change 11), the Spec Mode section (Change 13), the Verify Mode section (Change 14), the Guidelines section (Change 15), the cl-implementer.md Spec section (Change 16), and the cl-implementer.md Verify section (Change 17). This is a gap in the proposal's change manifest rather than a merge error. The merge correctly applied all 19 changes as specified. Recommend a follow-up L0 fix to update SKILL.md Spec Review description to "six dimensions" and add API Convention Adherence to the list, and similarly update docs/cl-implementer.md Spec Review.

3. **No content duplication detected**: Cross-cutting content (security spec templates, error taxonomy format, API conventions) lives in the dedicated cross-cutting-specs.md reference file. Other files reference it without duplicating content. Progressive disclosure model is respected.

4. **Token budgets**: The cross-cutting-specs.md file is 188 lines, well within the ~3000 token budget for reference files. No existing reference file appears to have been pushed over budget by P3 additions.
